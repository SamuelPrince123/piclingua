<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Free Speech Recognition Demo</title>
<style>
  body { font-family: Arial, sans-serif; padding: 2rem; background: #f0f0f0; }
  button { padding: 1rem 2rem; font-size: 1.2rem; cursor: pointer; }
  #transcript { margin-top: 1rem; font-size: 1.5rem; background: white; padding: 1rem; border-radius: 8px; min-height: 100px; }
</style>
</head>
<body>

<h1>üéôÔ∏è Free Speech Recognition Demo</h1>
<button id="start-btn">Start Listening</button>
<button id="stop-btn" disabled>Stop Listening</button>

<div id="transcript" placeholder="Your speech will appear here..."></div>

<script>
  // Check for browser support
  window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

  if (!window.SpeechRecognition) {
    alert('Sorry, your browser does not support Speech Recognition API.');
  } else {
    const recognition = new SpeechRecognition();
    recognition.interimResults = true;  // Show intermediate results
    recognition.lang = 'en-US';          // Language (change if needed)

    const startBtn = document.getElementById('start-btn');
    const stopBtn = document.getElementById('stop-btn');
    const transcriptDiv = document.getElementById('transcript');

    let finalTranscript = '';

    recognition.addEventListener('result', event => {
      let interimTranscript = '';
      for (let i = event.resultIndex; i < event.results.length; i++) {
        const transcript = event.results[i][0].transcript;
        if (event.results[i].isFinal) {
          finalTranscript += transcript + ' ';
        } else {
          interimTranscript += transcript;
        }
      }
      transcriptDiv.textContent = finalTranscript + interimTranscript;
    });

    recognition.addEventListener('end', () => {
      stopBtn.disabled = true;
      startBtn.disabled = false;
    });

    startBtn.addEventListener('click', () => {
      finalTranscript = '';
      transcriptDiv.textContent = '';
      recognition.start();
      startBtn.disabled = true;
      stopBtn.disabled = false;
    });

    stopBtn.addEventListener('click', () => {
      recognition.stop();
      stopBtn.disabled = true;
      startBtn.disabled = false;
    });
  }
</script>

</body>
</html>